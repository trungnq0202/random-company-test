{"version":3,"sources":["pages/login/login.constant.js","pages/login/login.reducer.js","pages/userManagement/userManagement.constant.js","pages/userManagement/userManagement.helper.js","pages/userManagement/userManagement.reducer.js","reducers.js","configureStore.js","axios-request.js","pages/login/login.action.js","pages/login/login.selector.js","pages/login/Login.js","pages/userManagement/userManagement.action.js","hoc/Auxiliary/Auxiliary.js","components/Navigation/Toolbar.js","hoc/Layout/Layout.js","components/SearchBar/SearchBar.js","pages/userManagement/UserManagement.js","hoc/CustomRoute/AuthenticatedRoute.js","pages/error/NotFound/NotFound.js","components/App/App.js","index.js","components/Navigation/Toolbar.module.css"],"names":["loginStatus","actions","LOGIN_START","LOGIN_SUCCESS","LOGIN_FAIL","AUTH_LOGOUT","INITIAL_STATE","account","token","loginReducer","state","action","type","payload","editStatus","updateStatus","combineOldAndUpdatedUsers","oldUsers","newUsers","finalUsers","i","length","j","oldUser","newUser","_id","username","email","birthdate","console","log","FIND_USERS_BY_NAME","START_EDIT_USERS","END_EDIT_USERS","START_UPDATE_USERS","NOT_UPDATE_USERS","UPDATE_USERS_PARTIALLY_SUCCESS","UPDATE_USERS_FAIL","UPDATE_SUCCESS","users","userManagementReducer","createRootReducer","history","combineReducers","auth","authReducer","userManagement","router","connectRouter","createBrowserHistory","instance","axios","create","baseURL","logout","localStorage","getItem","dispatch","a","post","headers","Authorization","removeItem","checkAuthTimeout","expirationTime","setTimeout","login","password","then","result","expirationDate","Date","getTime","data","expiresIn","setItem","JSON","stringify","replace","catch","error","loginStatusSelector","createSelector","get","status","Login","props","onUsernameChange","e","setState","target","value","onPasswordChange","this","Container","Col","md","className","Form","FormGroup","FormLabel","FormControl","placeholder","onChange","Button","block","size","bsstyle","onClick","Row","renderError","Component","connect","fetchUsers","name","params","res","err","aux","children","Toolbar","showDropdownItems","prevState","showDropdownItem","window","onclick","event","classes","dropbtn","showDropdownItemClass","dropdownContent","show","title","to","style","color","activeStyle","fontWeight","dropdown","marginRight","marginLeft","id","join","logoutBtnHandler","Layout","onLogout","preloadedState","SearchBar","useState","nameSearch","setNameSearch","executeSearch","UserManagement","editBtnClickHandler","changeEditStatus","finishEditBtnClickHandler","updateUsers","updatedUsers","push","findUpdatedUser","onUserDataChange","index","newUsername","newEmail","newBirthdate","nextProps","height","width","textAlign","scope","wdith","map","item","undefined","Moment","format","currentEditStatus","errorCode","finalizedUsers","AuthenticatedRoute","component","rest","render","NotFound","class","App","autoLoggingIn","routes","path","UserMangement","isAuthenticated","exact","parse","store","createStore","composeWithDevTools","applyMiddleware","thunk","routerMiddleware","ReactDOM","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.135b1661.chunk.js","sourcesContent":["const LOGIN_START = \"LOGIN_START\";\r\nconst LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\r\nconst LOGIN_FAIL = \"LOGIN_FAIL\";\r\nconst AUTH_LOGOUT = \"AUTH_LOGOUT\";\r\n\r\nconst loginStatus = {\r\n  notStart: 1,\r\n  inProgress: 2,\r\n  success: 3,\r\n  fail: 4,\r\n};\r\n\r\nconst actions = {\r\n  LOGIN_START,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAIL,\r\n  AUTH_LOGOUT,\r\n};\r\n\r\nexport { loginStatus, actions };\r\n","import { loginStatus, actions } from \"./login.constant\";\r\n\r\nconst { LOGIN_START, LOGIN_SUCCESS, LOGIN_FAIL, AUTH_LOGOUT } = actions;\r\n\r\nconst INITIAL_STATE = {\r\n  account: {},\r\n  loginStatus: loginStatus.notStart,\r\n  token: null,\r\n};\r\n\r\nexport default function loginReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case LOGIN_START:\r\n      return {\r\n        ...state,\r\n        loginStatus: loginStatus.inProgress,\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loginStatus: loginStatus.success,\r\n        account: action.payload.account,\r\n        token: action.payload.token,\r\n      };\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        loginStatus: loginStatus.fail,\r\n      };\r\n    case AUTH_LOGOUT:\r\n      return {\r\n        ...state,\r\n        loginStatus: loginStatus.notStart,\r\n        token: null,\r\n        account: null,\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","const FIND_USERS_BY_NAME = 'FIND_USERS_BY_NAME'\r\nconst START_EDIT_USERS = 'START_EDIT_USERS'\r\nconst END_EDIT_USERS = 'END_EDIT_USERS'\r\nconst START_UPDATE_USERS = 'START_UPDATE_USERS'\r\nconst NOT_UPDATE_USERS = 'NOT_UPDATE_USERS'\r\nconst UPDATE_USERS_PARTIALLY_SUCCESS = 'UPDATE_USERS_PARTIALLY_SUCCESS'\r\nconst UPDATE_USERS_FAIL = 'UPDATE_USERS_FAIL'\r\nconst UPDATE_SUCCESS = 'UPDATE_SUCCESS'\r\n\r\nconst editStatus = {\r\n    editting: 1,\r\n    notEditting: 2\r\n}\r\n\r\nconst updateStatus = {\r\n    notUpdate: 1,\r\n    updating: 2,\r\n    updateSuccess: 3,\r\n    updatePartiallySuccess: 4,\r\n    updateFail: 5 \r\n}\r\n\r\nconst actions = {\r\n    FIND_USERS_BY_NAME,\r\n    START_EDIT_USERS,\r\n    END_EDIT_USERS,\r\n    START_UPDATE_USERS,\r\n    NOT_UPDATE_USERS,\r\n    UPDATE_USERS_PARTIALLY_SUCCESS,\r\n    UPDATE_USERS_FAIL,\r\n    UPDATE_SUCCESS\r\n}\r\n\r\nexport {\r\n    actions,\r\n    editStatus,\r\n    updateStatus\r\n}\r\n","export const findUpdatedUser = (oldUsers, newUsers) => {\r\n  let updatedUsers = [];\r\n\r\n  for (let i = 0; i < newUsers.length; ++i) {\r\n    const oldUser = oldUsers[i];\r\n    const newUser = newUsers[i];\r\n    if (\r\n      newUser.username !== oldUser.username ||\r\n      newUser.email !== oldUser.email ||\r\n      newUser.birthdate !== oldUser.birthdate\r\n    )\r\n      updatedUsers.push(newUser);\r\n  }\r\n\r\n  return updatedUsers;\r\n};\r\n\r\nexport const combineOldAndUpdatedUsers = (oldUsers, newUsers) => {\r\n  let finalUsers = [...oldUsers];\r\n  for (let i = 0; i < oldUsers.length; ++i) {\r\n    for (let j = 0; j < newUsers.length; ++j) {\r\n      const oldUser = oldUsers[i];\r\n      const newUser = newUsers[j];\r\n      if (oldUser._id !== newUser._id) continue;\r\n      if (\r\n        newUser.username !== oldUser.username ||\r\n        newUser.email !== oldUser.email ||\r\n        newUser.birthdate !== oldUser.birthdate\r\n      )\r\n        finalUsers[i] = newUsers[j];\r\n      break;\r\n    }\r\n  }\r\n\r\n  console.log(\"concac\");\r\n  console.log(oldUsers);\r\n  console.log(\"cailoz\");\r\n  console.log(newUsers);\r\n  console.log(\"baby\");\r\n  console.log(finalUsers);\r\n\r\n  return finalUsers;\r\n};\r\n","import { actions, editStatus, updateStatus } from \"./userManagement.constant\";\r\nimport { combineOldAndUpdatedUsers } from \"./userManagement.helper\";\r\n\r\nconst {\r\n  FIND_USERS_BY_NAME,\r\n  START_EDIT_USERS,\r\n  END_EDIT_USERS,\r\n  START_UPDATE_USERS,\r\n  NOT_UPDATE_USERS,\r\n  UPDATE_USERS_PARTIALLY_SUCCESS,\r\n  UPDATE_USERS_FAIL,\r\n  UPDATE_SUCCESS\r\n} = actions;\r\n\r\nconst INITIAL_STATE = {\r\n  users: [],\r\n  editStatus: editStatus.notEditting,\r\n  updateStatus: updateStatus.notUpdate\r\n};\r\n\r\nexport default function userManagementReducer(state = INITIAL_STATE, action) {\r\n  switch (action.type) {\r\n    case FIND_USERS_BY_NAME:\r\n      return {\r\n        ...state,\r\n        users: action.users,\r\n      };\r\n    case START_EDIT_USERS:\r\n      return {\r\n        ...state,\r\n        editStatus: editStatus.editting,\r\n      };\r\n    case END_EDIT_USERS:\r\n      return {\r\n        ...state,\r\n        editStatus: editStatus.notEditting,\r\n      };\r\n    case NOT_UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        updateStatus: updateStatus.notUpdate\r\n      }\r\n    case START_UPDATE_USERS:\r\n      return {\r\n        ...state,\r\n        updateStatus: updateStatus.updating\r\n      }\r\n    case UPDATE_USERS_PARTIALLY_SUCCESS:\r\n      return {\r\n        ...state,\r\n        updateStatus: updateStatus.updatePartiallySuccess,\r\n        users: combineOldAndUpdatedUsers(state.users, action.payload.users)\r\n      }\r\n    case UPDATE_USERS_FAIL:\r\n      return {\r\n        ...state,\r\n        updateStatus: updateStatus.updateFail\r\n      }\r\n    case UPDATE_SUCCESS:\r\n      return{\r\n        ...state,\r\n        updateStatus: updateStatus.notUpdate,\r\n        users: combineOldAndUpdatedUsers(state.users, action.payload.users)\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","import { combineReducers } from 'redux';\r\nimport { connectRouter } from 'connected-react-router';\r\n\r\nimport authReducer from './pages/login/login.reducer';\r\nimport userManagementReducer from './pages/userManagement/userManagement.reducer'\r\n\r\nconst createRootReducer = (history) => combineReducers({\r\n    auth: authReducer,\r\n    userManagement: userManagementReducer,\r\n    router: connectRouter(history)\r\n})\r\n\r\nexport default createRootReducer","import { createBrowserHistory } from \"history\";\r\nimport { applyMiddleware, createStore } from \"redux\";\r\nimport { routerMiddleware } from \"connected-react-router\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\n\r\nimport createRootReducer from \"./reducers\";\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nexport const history = createBrowserHistory();\r\n\r\nexport default function configureStore(preloadedState) {\r\n  const store = createStore(\r\n    createRootReducer(history), // root reducer with router state\r\n    composeWithDevTools(applyMiddleware(thunk, routerMiddleware(history))),\r\n    preloadedState,\r\n  );\r\n\r\n  return store;\r\n}\r\n","import axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:8080/api/'\r\n});\r\n\r\nexport default instance;","import { replace } from \"connected-react-router\";\r\nimport { actions } from \"./login.constant\";\r\nimport axios from \"../../axios-request\";\r\n\r\nconst { LOGIN_START, LOGIN_SUCCESS, LOGIN_FAIL, AUTH_LOGOUT } = actions;\r\n\r\nexport const logout = () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return async (dispatch) => {\r\n    await axios.post(\"/admin/logout\", localStorage.getItem(\"account\"), {\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    });\r\n\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"expirationDate\");\r\n    localStorage.removeItem(\"account\");\r\n\r\n    dispatch({ type: AUTH_LOGOUT });\r\n  };\r\n};\r\n\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n  return (dispatch) => {\r\n    setTimeout(() => {\r\n      dispatch(logout());\r\n    }, expirationTime * 1000);\r\n  };\r\n};\r\n\r\nexport const tryAutoLoggingIn = () => {\r\n  return (dispatch) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (!token) {\r\n      dispatch(logout());\r\n    } else {\r\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\r\n      if (expirationDate <= new Date()) {\r\n        dispatch(logout());\r\n      } else {\r\n        const payload = {\r\n          account: JSON.parse(localStorage.getItem(\"account\")),\r\n          token: localStorage.getItem(\"token\"),\r\n        };\r\n        dispatch({ type: LOGIN_SUCCESS, payload: payload });\r\n        dispatch(\r\n          checkAuthTimeout(\r\n            (expirationDate.getTime() - new Date().getTime()) / 1000\r\n          )\r\n        );\r\n        dispatch(replace(\"/user-management\"));\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nexport const login = (dispatch) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return async (username, password) => {\r\n    dispatch({ type: LOGIN_START });\r\n    axios\r\n      .post(\r\n        \"/admin/auth\",\r\n        { username, password },\r\n        {\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n        }\r\n      )\r\n      .then((result) => {\r\n        const expirationDate = new Date(\r\n          new Date().getTime() + result.data.expiresIn * 1000\r\n        );\r\n        localStorage.setItem(\"token\", result.data.token);\r\n        localStorage.setItem(\"expirationDate\", expirationDate);\r\n        localStorage.setItem(\"account\", JSON.stringify(result.data.account));\r\n        const payload = {\r\n          account: result.data.account,\r\n          token: result.data.token,\r\n        };\r\n        dispatch({ type: LOGIN_SUCCESS, payload: payload });\r\n        dispatch(checkAuthTimeout(result.data.expiresIn));\r\n        dispatch(replace(\"/user-management\"));\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: LOGIN_FAIL });\r\n      });\r\n  };\r\n};\r\n","import { createSelector } from \"reselect\";\r\nimport { get } from \"lodash\";\r\n\r\nconst loginStatusSelector = createSelector(\r\n  (state) => {\r\n    return get(state, \"auth.loginStatus\");\r\n  },\r\n  (status) => {\r\n    return status;\r\n  }\r\n);\r\n\r\nexport { loginStatusSelector };\r\n","import React, { Component } from \"react\";\r\nimport { func, number } from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  Container,\r\n  Row,\r\n  Col,\r\n  FormLabel,\r\n  FormControl,\r\n  Button,\r\n  Form,\r\n  FormGroup,\r\n} from \"react-bootstrap\";\r\nimport { login } from \"./login.action\";\r\nimport { loginStatus } from \"./login.constant\";\r\nimport { loginStatusSelector } from \"./login.selector\";\r\nimport \"./login.css\";\r\n\r\nexport class Login extends Component {\r\n  static propTypes = {\r\n    login: func.isRequired,\r\n    status: number.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      username: \"\",\r\n      password: \"\",\r\n    };\r\n  }\r\n\r\n  onUsernameChange = (e) => {\r\n    this.setState({ username: e.target.value });\r\n  };\r\n\r\n  onPasswordChange = (e) => {\r\n    this.setState({ password: e.target.value });\r\n  };\r\n\r\n  login = () => {\r\n    const { username, password } = this.state;\r\n    this.props.login(username, password);\r\n  };\r\n\r\n  renderError() {\r\n    const { status } = this.props;\r\n\r\n    switch (status) {\r\n      case loginStatus.inProgress:\r\n        return <span>Validating account...</span>;\r\n      case loginStatus.fail:\r\n        return <span>Username or password is incorrect</span>;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container>\r\n        <Col md={4} className=\"mx-auto mt-5\">\r\n          <Form>\r\n            <h3>Login with admin account</h3>\r\n            <FormGroup>\r\n              <FormLabel>Username</FormLabel>\r\n              <FormControl\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                onChange={this.onUsernameChange}\r\n                value={this.state.username}\r\n              />\r\n            </FormGroup>\r\n            <FormGroup className=\"mt-4\">\r\n              <FormLabel>Password</FormLabel>\r\n              <FormControl\r\n                type=\"Password\"\r\n                placeholder=\"Enter password\"\r\n                onChange={this.onPasswordChange}\r\n                value={this.state.password}\r\n              />\r\n            </FormGroup>\r\n\r\n            <Button\r\n              className=\"mt-4\"\r\n              block\r\n              size=\"lg\"\r\n              bsstyle=\"primary\"\r\n              onClick={this.login}\r\n            >\r\n              Login\r\n            </Button>\r\n            <Row>{this.renderError()}</Row>\r\n          </Form>\r\n        </Col>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    status: loginStatusSelector(state),\r\n  };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    login: login(dispatch),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\r\n","import { actions, editStatus } from \"./userManagement.constant\";\r\nimport axios from \"../../axios-request\";\r\n\r\nconst {\r\n  FIND_USERS_BY_NAME,\r\n  START_EDIT_USERS,\r\n  END_EDIT_USERS,\r\n  START_UPDATE_USERS,\r\n  NOT_UPDATE_USERS,\r\n  UPDATE_USERS_PARTIALLY_SUCCESS,\r\n  UPDATE_USERS_FAIL,\r\n  UPDATE_SUCCESS,\r\n} = actions;\r\n\r\nexport const getUsersByName = (users) => {\r\n  return {\r\n    type: FIND_USERS_BY_NAME,\r\n    users: users,\r\n  };\r\n};\r\n\r\nexport const changeEditStatus = (currentEditStatus) => {\r\n  return (dispatch) => {\r\n    if (currentEditStatus === editStatus.notEditting){\r\n      dispatch({ type: START_EDIT_USERS });\r\n      dispatch({ type: NOT_UPDATE_USERS });\r\n    }\r\n    else dispatch({ type: END_EDIT_USERS });\r\n  };\r\n};\r\n\r\nexport const updateUsers = (newUsers) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return async (dispatch) => {\r\n    dispatch({ type: START_UPDATE_USERS })\r\n    axios\r\n      .post(\"/users/update-multiple\", newUsers, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((result) => {\r\n        if (result.data.errorCode) {\r\n          //Update partially success\r\n          if (result.data.errorCode === 1)\r\n            dispatch({\r\n              type: UPDATE_USERS_PARTIALLY_SUCCESS,\r\n              payload: {users: result.data.finalizedUsers},\r\n            });\r\n          else dispatch({ type: UPDATE_USERS_FAIL });\r\n        } else {\r\n          dispatch({\r\n            type: UPDATE_SUCCESS,\r\n            payload: { users: result.data.finalizedUsers },\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        dispatch({ type: UPDATE_USERS_FAIL });\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchUsers = (name) => {\r\n  const token = localStorage.getItem(\"token\");\r\n  return (dispatch) => {\r\n    axios\r\n      .get(\"/users/get-all-by-name\", {\r\n        params: {\r\n          name: name,\r\n        },\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        dispatch(getUsersByName(res.data));\r\n      })\r\n      .catch((err) => {\r\n      });\r\n  };\r\n};\r\n","const aux = (props) => props.children;\r\n\r\nexport default aux;\r\n","import React, { Component } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { PersonFill, CaretDown, InfoCircle } from \"react-bootstrap-icons\";\r\nimport classes from \"./Toolbar.module.css\";\r\n\r\nclass Toolbar extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      showDropdownItem: false,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.onclick = (event) => {\r\n      if (event.target.className !== classes.dropbtn) {\r\n        this.setState({\r\n          showDropdownItem: false,\r\n        });\r\n      }\r\n    };\r\n  }\r\n\r\n  showDropdownItems = () => {\r\n    this.setState((prevState) => {\r\n      return {\r\n        ...prevState,\r\n        showDropdownItem: !prevState.showDropdownItem,\r\n      };\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let showDropdownItemClass = [classes.dropdownContent];\r\n\r\n    if (this.state.showDropdownItem) {\r\n      showDropdownItemClass = [classes.dropdownContent, classes.show];\r\n    }\r\n\r\n    return (\r\n      <header className={classes.Toolbar}>\r\n        <nav>\r\n          <InfoCircle />\r\n          <h4>{this.props.title}</h4>\r\n        </nav>\r\n        <NavLink\r\n          to=\"/user-management\"\r\n          style={{\r\n            color: \"white\",\r\n          }}\r\n          activeStyle={{\r\n            fontWeight: \"bold\",\r\n            color: \"red\",\r\n          }}\r\n        >\r\n          User Management\r\n        </NavLink>\r\n\r\n        <NavLink\r\n          to=\"/family-tree\"\r\n          style={{\r\n            color: \"white\",\r\n          }}\r\n          activeStyle={{\r\n            fontWeight: \"bold\",\r\n            color: \"red\",\r\n          }}\r\n        >\r\n          Family tree rendering\r\n        </NavLink>\r\n\r\n        <nav>\r\n          <div className={classes.dropdown}>\r\n            <button\r\n              onClick={this.showDropdownItems}\r\n              className={classes.dropbtn}\r\n            >\r\n              <PersonFill style={{ marginRight: \"5px\" }} />\r\n              {this.props.username}\r\n              <CaretDown style={{ marginLeft: \"5px\" }} />\r\n            </button>\r\n            <div id=\"myDropdown\" className={showDropdownItemClass.join(\" \")}>\r\n              <button onClick={this.props.logoutBtnHandler}>Logout</button>\r\n            </div>\r\n          </div>\r\n        </nav>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Toolbar;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { logout } from '../../pages/login/login.action'\r\nimport Aux from '../Auxiliary/Auxiliary';\r\nimport Toolbar from '../../components/Navigation/Toolbar';\r\nimport './Layout.css';\r\n\r\nclass Layout extends Component {\r\n  render() {\r\n    return (\r\n      <Aux>\r\n        <Toolbar\r\n          title={this.props.title}\r\n          username={this.props.username}\r\n          logoutBtnHandler={this.props.onLogout} />\r\n        <main className=\"Content\">\r\n          {this.props.children}          \r\n        </main>\r\n      </Aux>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    onLogout: () => dispatch(logout())\r\n  }\r\n}\r\n\r\n\r\nexport default connect(null, mapDispatchToProps)(Layout)","import React, { useState } from \"react\";\r\nimport { Search } from \"react-bootstrap-icons\";\r\nimport Aux from \"../../hoc/Auxiliary/Auxiliary\";\r\nimport \"./SearchBar.css\";\r\n\r\nconst SearchBar = (props) => {\r\n  const [nameSearch, setNameSearch] = useState(\"\");\r\n\r\n  const onNameSearchChange = (e) => {\r\n    setNameSearch(e.target.value);\r\n  };\r\n\r\n  const onSearchSubmit = () => {\r\n    props.executeSearch(nameSearch);\r\n  };\r\n\r\n  return (\r\n    <Aux>\r\n      <div className=\"wrap\">\r\n        <div className=\"search\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"searchTerm\"\r\n            onChange={onNameSearchChange}\r\n            placeholder=\"Enter name to search users\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"searchButton\"\r\n            onClick={onSearchSubmit}\r\n          >\r\n            <Search />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </Aux>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { Component } from \"react\";\r\nimport { func, number, array } from \"prop-types\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  changeEditStatus,\r\n  fetchUsers,\r\n  updateUsers,\r\n} from \"./userManagement.action\";\r\nimport { Container, Button } from \"react-bootstrap\";\r\nimport { editStatus, updateStatus } from \"./userManagement.constant\";\r\nimport { findUpdatedUser } from \"./userManagement.helper\";\r\nimport Moment from \"moment\";\r\nimport Layout from \"../../hoc/Layout/Layout\";\r\nimport SearchBar from \"../../components/SearchBar/SearchBar\";\r\nimport \"./userManagement.css\";\r\n\r\nclass UserManagement extends Component {\r\n  static propTypes = {\r\n    users: array.isRequired,\r\n    editStatus: number.isRequired,\r\n    updateStatus: number.isRequired,\r\n    fetchUsers: func.isRequired,\r\n    changeEditStatus: func.isRequired,\r\n    updateUsers: func.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      users: [],\r\n    };\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.users !== this.props.users) {\r\n      this.setState({ users: nextProps.users });\r\n    }\r\n  }\r\n\r\n  editBtnClickHandler = (e) => {\r\n    if (this.props.users.length !== 0) {\r\n      this.props.changeEditStatus(this.props.editStatus);\r\n    }\r\n  };\r\n\r\n  finishEditBtnClickHandler = (e) => {\r\n    this.props.changeEditStatus(this.props.editStatus);\r\n    this.props.updateUsers(\r\n      findUpdatedUser(this.props.users, this.state.users)\r\n    );\r\n  };\r\n\r\n  renderError() {\r\n    const status = this.props.updateStatus;\r\n    switch (status) {\r\n      case updateStatus.updating:\r\n        return (\r\n          <span style={{ height: 15, width: \"100%\" }}>\r\n            Updating users.....\r\n          </span>\r\n        );\r\n      case updateStatus.updatePartiallySuccess:\r\n        return (\r\n          <span style={{ height: \"100%\", width: \"100%\", color: \"red\" }}>\r\n            Some users are failed to update, remember username must be unique\r\n            and email must have the right form\r\n          </span>\r\n        );\r\n      case updateStatus.updateFail:\r\n        return (\r\n          <span style={{ height: \"100%\", width: \"100%\", color: \"red\" }}>\r\n            Fail to update editted users, remember username must be unique and\r\n            email must have the right form\r\n          </span>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  onUserDataChange = (index, newUsername, newEmail, newBirthdate) => {\r\n    let users = [...this.state.users];\r\n    let newUser = { ...users[index] };\r\n    if (newUsername) newUser.username = newUsername;\r\n    if (newEmail) newUser.email = newEmail;\r\n    if (newBirthdate) newUser.birthdate = newBirthdate;\r\n    users[index] = newUser;\r\n    this.setState({ users });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Layout>\r\n        <Container>\r\n          <div style={{ height: 700, width: \"100%\" }}>\r\n            <SearchBar executeSearch={this.props.fetchUsers} />\r\n            <div className=\"mt-3\" style={{ height: 30, width: \"100%\", textAlign: \"center\" }}>\r\n              {this.renderError()}\r\n            </div>\r\n            <table className=\"table mt-4\" id=\"users\">\r\n              <thead>\r\n                <tr>\r\n                  <th scope=\"col\" id=\"usernameTh\">\r\n                    Username\r\n                  </th>\r\n                  <th scope=\"col\" id=\"emailTh\">\r\n                    Email\r\n                  </th>\r\n                  <th scope=\"col\" id=\"dobTh\">\r\n                    Birthdate\r\n                  </th>\r\n                  <th style={{ wdith: \"10%\" }}>\r\n                    {this.props.editStatus === editStatus.notEditting ? (\r\n                      <Button onClick={this.editBtnClickHandler}>Edit</Button>\r\n                    ) : (\r\n                      <Button onClick={this.finishEditBtnClickHandler}>\r\n                        Finish\r\n                      </Button>\r\n                    )}\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {this.state.users.map((item, index) => (\r\n                  <tr key={item._id}>\r\n                    <td>\r\n                      {this.props.editStatus === editStatus.editting ? (\r\n                        <input\r\n                          value={item.username}\r\n                          type=\"text\"\r\n                          onChange={(e) =>\r\n                            this.onUserDataChange(\r\n                              index,\r\n                              e.target.value,\r\n                              undefined,\r\n                              undefined\r\n                            )\r\n                          }\r\n                        />\r\n                      ) : (\r\n                        item.username\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {this.props.editStatus === editStatus.editting ? (\r\n                        <input\r\n                          value={item.email}\r\n                          type=\"email\"\r\n                          onChange={(e) =>\r\n                            this.onUserDataChange(\r\n                              index,\r\n                              undefined,\r\n                              e.target.value,\r\n                              undefined\r\n                            )\r\n                          }\r\n                        />\r\n                      ) : (\r\n                        item.email\r\n                      )}\r\n                    </td>\r\n                    <td>\r\n                      {this.props.editStatus === editStatus.editting ? (\r\n                        <input\r\n                          value={Moment(item.birthdate).format(\"YYYY-MM-DD\")}\r\n                          type=\"date\"\r\n                          onChange={(e) =>\r\n                            this.onUserDataChange(\r\n                              index,\r\n                              undefined,\r\n                              undefined,\r\n                              e.target.value\r\n                            )\r\n                          }\r\n                        />\r\n                      ) : (\r\n                        Moment(item.birthdate).format(\"YYYY-MM-DD\")\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </Container>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    // account: accountSelector(state)\r\n    account: state.auth.account,\r\n    users: state.userManagement.users,\r\n    editStatus: state.userManagement.editStatus,\r\n    updateStatus: state.userManagement.updateStatus,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchUsers: (name) => dispatch(fetchUsers(name)),\r\n    changeEditStatus: (currentEditStatus) =>\r\n      dispatch(changeEditStatus(currentEditStatus)),\r\n    updateUsers: (newUsers) => dispatch(updateUsers(newUsers)),\r\n  };\r\n};\r\nexport default connect(mapStateToProps, mapDispatchToProps)(UserManagement);\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst AuthenticatedRoute = ({ component: Component, auth, ...rest }) => (\r\n    <Route\r\n        {...rest}\r\n        render={(props) => (\r\n            auth === true\r\n                ? <Component {...props} />\r\n                : <Redirect to=\"/\" />\r\n        )} />\r\n)\r\n\r\nexport default AuthenticatedRoute;","import { Container, Row, Col } from \"react-bootstrap\";\r\nimport Layout from \"../../../hoc/Layout/Layout\";\r\n\r\nimport \"./NotFound.css\";\r\n\r\nconst NotFound = () => {\r\n  return (\r\n    <Layout>\r\n      <Container>\r\n        <Row>\r\n          <Col md={12} className=\"mx-auto mt-5\">\r\n            <div class=\"error-template\">\r\n              <h1>Oops!</h1>\r\n              <h2>404 Not Found</h2>\r\n              <div class=\"error-details\">\r\n                Sorry, an error has occured, Requested page not found!\r\n              </div>\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default NotFound;\r\n","import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { tryAutoLoggingIn } from \"../../pages/login/login.action\";\nimport { ConnectedRouter } from \"connected-react-router\";\nimport Login from \"../../pages/login/Login\";\nimport UserMangement from \"../../pages/userManagement/UserManagement\";\nimport AuthenticatedRoute from \"../../hoc/CustomRoute/AuthenticatedRoute\";\nimport NotFound from \"../../pages/error/NotFound/NotFound\";\n\nimport \"./App.css\";\n\nclass App extends Component {\n  static propTypes = {\n    history: PropTypes.object,\n  };\n\n  componentWillMount() {\n    this.props.autoLoggingIn();\n  }\n\n  render() {\n    const routes = (\n      <Switch>\n          <AuthenticatedRoute\n            path=\"/user-management\"\n            component={UserMangement}\n            auth={this.props.isAuthenticated}\n          />\n\n          <Route path=\"/\" exact component={Login} />\n          <Route path=\"*\" component={NotFound} />\n      </Switch>\n    );\n\n    return (\n      <ConnectedRouter history={this.props.history}>{routes}</ConnectedRouter>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isAuthenticated: state.auth.account != null,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    autoLoggingIn: () => dispatch(tryAutoLoggingIn()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport configureStore, { history } from './configureStore';\nimport App from './components/App/App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport './index.css';\n\nconst store = configureStore()\nconst render = () => {\n  ReactDOM.render(\n    <Provider store={store}>\n      <App history={history}/>\n    </Provider>,\n    document.getElementById('root')\n  )\n}\n\nrender()\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Toolbar\":\"Toolbar_Toolbar__2u0f3\",\"Logo\":\"Toolbar_Logo__2A45x\",\"dropbtn\":\"Toolbar_dropbtn__1tHWx\",\"dropdown\":\"Toolbar_dropdown__Dh8Se\",\"dropdownContent\":\"Toolbar_dropdownContent__18ShR\",\"show\":\"Toolbar_show__OsocV\"};"],"sourceRoot":""}